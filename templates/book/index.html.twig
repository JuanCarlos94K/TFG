{% extends 'base.html.twig' %}

{% block title %}Libros{% endblock %}

{% block body %}
    <h1 class="text-3xl font-bold mb-6">Listado de Libros</h1>

    <table class="min-w-full border-collapse border border-gray-200 shadow-md">
        <thead class="bg-gray-100">
            <tr>
                <th class="border border-gray-300 px-4 py-2 text-left">Título</th>
                <th class="border border-gray-300 px-4 py-2 text-left">Descripción</th>
                <th class="border border-gray-300 px-4 py-2 text-left">Portada</th>
                <th class="border border-gray-300 px-4 py-2 text-left">Actiones</th>
            </tr>
        </thead>
        <tbody>
        {% for book in books %}
            <tr class="even:bg-gray-50">
                <td class="border border-gray-300 px-4 py-2 align-top">{{ book.title }}</td>
                <td class="border border-gray-300 px-4 py-2 align-top">{{ book.description }}</td>
                <td class="border border-gray-300 px-4 py-2 align-top">
                    {% if book.cover %}
                    <img src="{{ book.cover }}" alt="Portada del libro" style="max-width: 250px;" />
                    {% else %}
                        <span class="italic text-gray-500">No cover</span>
                    {% endif %}
                </td>
                <td class="border border-gray-300 px-4 py-2 align-top space-x-2">
                    <a href="{{ path('app_book_show', {'id': book.id}) }}" class="text-blue-600 hover:underline">Ampliar</a>
                    <a href="{{ path('app_book_edit', {'id': book.id}) }}" class="text-green-600 hover:underline">Editar</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5" class="text-center py-4 italic text-gray-500">No records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div class="mt-6">
        <a href="{{ path('app_book_new') }}" class="inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow">Create new</a>
    </div>
{% endblock %}